<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Home</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="royal" (click)="sendRequest()">
        <img src="assets/img/logo_live_add.png" class="icon-in-button">
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="backgroundPlatzinger">

  <ion-grid id="homeMeContainer" *ngIf="user">
    <ion-row>
      <ion-col col-3>
        <div class="avatarFrameOnline">
          <img src="assets/img/generic_avatar.png" class="avatarImg img-fluid">
        </div>
      </ion-col>
      <ion-col col-9>
        {{ user.nick }}<br/>
        <small>{{ user.subnick }}</small><br/>
        <small><b>{{ user.email }}</b></small><br/>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div class="searchBoxContainer">
    <!--<ion-searchbar placeholder="Buscar..." [(ngModel)]="query"></ion-searchbar>-->
    <ion-input type="search" id="searchField" placeholder="Buscar..." [(ngModel)]="query"></ion-input>
  </div>

  <div>
    <ion-list>
      <ion-list-header>
        <b>Amigos</b>
      </ion-list-header>
      <ion-item class="contact-list-item" [ngClass]="{'contact-offline': isOffline(user.status)}" [ngStyle]="{'color': isOffline(user.status) ? 'red' : 'blue'}" *ngFor="let user of friends | search: query" (click)="goToConversation(user)">
        <img src="assets/img/{{getIconByStatus(user.status)}}" class="status">
        <b>{{user.nick}}</b> <i class="msnicon brb"></i>
        <small *ngIf="user.status" item-end>{{ user.status }}</small>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
